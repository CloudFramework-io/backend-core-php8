<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CoreCache Class - CloudFramework Backend Core PHP8</title>
    <meta name="description" content="CoreCache Class - CloudFramework Backend Core PHP8 API Reference">
    <link rel="stylesheet" href="../css/styles.css">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <h1>CloudFramework Backend Core PHP8</h1>
        <span class="version">v8.4+</span>
    </header>

    <!-- Container -->
    <div class="container">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="sidebar-search">
                <input type="text" id="search-input" placeholder="Search documentation...">
            </div>

            <nav class="sidebar-nav">
                <!-- Getting Started -->
                <div class="sidebar-nav-section">
                    <div class="sidebar-nav-title">Getting Started</div>
                    <ul>
                        <li><a href="../index.html" class="sidebar-nav-link">Documentation Home</a></li>
                        <li><a href="../guides/getting-started.html" class="sidebar-nav-link">Installation & Setup</a></li>
                        <li><a href="../guides/getting-started.html#quick-start" class="sidebar-nav-link">Quick Start</a></li>
                    </ul>
                </div>

                <!-- Development Guides -->
                <div class="sidebar-nav-section">
                    <div class="sidebar-nav-title">Development Guides</div>
                    <ul>
                        <li><a href="../guides/api-development.html" class="sidebar-nav-link">API Development</a></li>
                        <li><a href="../guides/script-development.html" class="sidebar-nav-link">Script Development</a></li>
                        <li><a href="../guides/configuration.html" class="sidebar-nav-link">Configuration</a></li>
                        <li><a href="../guides/deployment.html" class="sidebar-nav-link">Deployment</a></li>
                    </ul>
                </div>

                <!-- GCP Integration -->
                <div class="sidebar-nav-section">
                    <div class="sidebar-nav-title">GCP Integration</div>
                    <ul>
                        <li><a href="../guides/gcp-integration.html" class="sidebar-nav-link">GCP Overview</a></li>
                        <li><a href="../guides/security.html" class="sidebar-nav-link">Security</a></li>
                        <li><a href="../guides/testing.html" class="sidebar-nav-link">Testing</a></li>
                    </ul>
                </div>

                <!-- Core Classes -->
                <div class="sidebar-nav-section">
                    <div class="sidebar-nav-title">Core Classes</div>
                    <ul>
                        <li><a href="Core7.html" class="sidebar-nav-link">Core7</a></li>
                        <li><a href="RESTful.html" class="sidebar-nav-link">RESTful</a></li>
                        <li><a href="Scripts2020.html" class="sidebar-nav-link">Scripts2020</a></li>
                    </ul>
                </div>

                <!-- Configuration Classes -->
                <div class="sidebar-nav-section">
                    <div class="sidebar-nav-title">Configuration</div>
                    <ul>
                        <li><a href="CoreConfig.html" class="sidebar-nav-link">CoreConfig</a></li>
                        <li><a href="CoreCache.html" class="sidebar-nav-link active">CoreCache</a></li>
                        <li><a href="CoreSession.html" class="sidebar-nav-link">CoreSession</a></li>
                        <li><a href="CoreSecurity.html" class="sidebar-nav-link">CoreSecurity</a></li>
                    </ul>
                </div>

                <!-- Data Access Classes -->
                <div class="sidebar-nav-section">
                    <div class="sidebar-nav-title">Data Access</div>
                    <ul>
                        <li><a href="DataStore.html" class="sidebar-nav-link">DataStore</a></li>
                        <li><a href="Buckets.html" class="sidebar-nav-link">Buckets</a></li>
                        <li><a href="DataBQ.html" class="sidebar-nav-link">DataBQ</a></li>
                        <li><a href="CloudSQL.html" class="sidebar-nav-link">CloudSQL</a></li>
                        <li><a href="DataSQL.html" class="sidebar-nav-link">DataSQL</a></li>
                        <li><a href="DataMongoDB.html" class="sidebar-nav-link">DataMongoDB</a></li>
                    </ul>
                </div>

                <!-- Utilities -->
                <div class="sidebar-nav-section">
                    <div class="sidebar-nav-title">Utilities</div>
                    <ul>
                        <li><a href="Email.html" class="sidebar-nav-link">Email</a></li>
                        <li><a href="DataValidation.html" class="sidebar-nav-link">DataValidation</a></li>
                        <li><a href="WorkFlows.html" class="sidebar-nav-link">WorkFlows</a></li>
                        <li><a href="GoogleSecrets.html" class="sidebar-nav-link">GoogleSecrets</a></li>
                        <li><a href="PubSub.html" class="sidebar-nav-link">PubSub</a></li>
                    </ul>
                </div>

                <!-- Examples -->
                <div class="sidebar-nav-section">
                    <div class="sidebar-nav-title">Examples</div>
                    <ul>
                        <li><a href="../examples/api-examples.html" class="sidebar-nav-link">API Examples</a></li>
                        <li><a href="../examples/script-examples.html" class="sidebar-nav-link">Script Examples</a></li>
                    </ul>
                </div>
            </nav>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
<h1>CoreCache Class</h1>

<h2>Overview</h2>

The <code>CoreCache</code> class provides a flexible caching system for CloudFramework with support for multiple backends including Redis (memory), local files (directory), and Google Cloud Datastore. It handles caching with expiration, hashing validation, and optional encryption.

<h2>Inheritance</h2>

Access CoreCache through the Core7 instance:

<pre><code class="language-php">// Set cache value
$this->core->cache->set('user_123', $userData);

// Get cache value
$userData = $this->core->cache->get('user_123');

// Delete cache
$this->core->cache->delete('user_123');
</code></pre>

<h2>Properties</h2>

<h3>Public Properties</h3>

<table>
<thead>
<tr>
<th>Property</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>$cache</code></td>
<td>object\</td>
<td>null</td>
<td>Cache backend instance (Redis, CoreCacheFile, or CoreCacheDataStore)</td>
</tr>
<tr>
<td><code>$spacename</code></td>
<td>string</td>
<td>Namespace for cache keys (default: 'CloudFrameWork')</td>
</tr>
<tr>
<td><code>$type</code></td>
<td>string</td>
<td>Cache type: 'memory' (Redis), 'directory' (files), or 'datastore'</td>
</tr>
<tr>
<td><code>$dir</code></td>
<td>string</td>
<td>Directory path for file-based cache</td>
</tr>
<tr>
<td><code>$error</code></td>
<td>bool</td>
<td>Error flag</td>
</tr>
<tr>
<td><code>$errorMsg</code></td>
<td>array</td>
<td>Error messages</td>
</tr>
<tr>
<td><code>$debug</code></td>
<td>bool</td>
<td>Debug mode flag</td>
</tr>
<tr>
<td><code>$lastHash</code></td>
<td>string\</td>
<td>null</td>
<td>Last retrieved cache entry hash</td>
</tr>
<tr>
<td><code>$lastExpireTime</code></td>
<td>float\</td>
<td>null</td>
<td>Time since last cache entry was set</td>
</tr>
<tr>
<td><code>$errorSecurity</code></td>
<td>bool</td>
<td>Security error flag (wrong encryption keys)</td>
</tr>
</tbody>
</table>

<p>---</p>

<h2>Constructor</h2>

<pre><code class="language-php">function __construct(Core7 &$core, $spacename = '', $path = null, $debug = null)
</code></pre>

<p>Initializes the cache system.</p>

<strong>Parameters:</strong>
<ul>
<li><code>$core</code> (Core7): Reference to Core7 instance</li>
<li><code>$spacename</code> (string): Namespace for cache keys (optional)</li>
<li><code>$path</code> (string\|null): Path for file-based cache (activates directory cache if set)</li>
<li><code>$debug</code> (bool\|null): Enable debug mode (optional, auto-enabled in development)</li>
</ul>

<strong>Example:</strong>
<pre><code class="language-php">// Initialized automatically in Core7
// You access it via $this->core->cache

// The cache is initialized based on configuration:
// - In development: uses file cache from core.cache.cache_path
// - In production with Redis: uses memory cache (Redis)
</code></pre>

<p>---</p>

<h2>Activation Methods</h2>

<h3>activateMemory()</h3>

<pre><code class="language-php">function activateMemory(): bool
</code></pre>

<p>Activates Redis-based memory cache.</p>

<strong>Returns:</strong> <code>true</code> on success

<strong>Requirements:</strong>
<ul>
<li>Redis server running</li>
<li>Environment variables: <code>REDIS_HOST</code> and <code>REDIS_PORT</code></li>
</ul>

<strong>Example:</strong>
<pre><code class="language-php">$this->core->cache->activateMemory();
</code></pre>

<p>---</p>

<h3>activateCacheFile()</h3>

<pre><code class="language-php">function activateCacheFile($path, $spacename = ''): bool
</code></pre>

<p>Activates file-based cache in a directory.</p>

<strong>Parameters:</strong>
<ul>
<li><code>$path</code> (string): Directory path for cache files (must be writable)</li>
<li><code>$spacename</code> (string): Optional namespace suffix</li>
</ul>

<strong>Returns:</strong> <code>true</code> if directory exists or was created, <code>false</code> on error

<strong>Example:</strong>
<pre><code class="language-php">// Activate file cache
$cachePath = $this->core->system->root_path . '/local_data/cache';
if($this->core->cache->activateCacheFile($cachePath)) {
    // File cache is active
}
</code></pre>

<p>---</p>

<h3>activateDataStore()</h3>

<pre><code class="language-php">function activateDataStore($spacename = ''): bool
</code></pre>

<p>Activates Google Cloud Datastore-based cache.</p>

<strong>Parameters:</strong>
<ul>
<li><code>$spacename</code> (string): Optional namespace for cache entities</li>
</ul>

<strong>Returns:</strong> <code>true</code> on success, <code>false</code> on error

<strong>Example:</strong>
<pre><code class="language-php">// Activate Datastore cache
if($this->core->cache->activateDataStore('my_app')) {
    // Datastore cache is active
}
</code></pre>

<p>---</p>

<h2>Core Cache Methods</h2>

<h3>get()</h3>

<pre><code class="language-php">function get($key, $expireTime = -1, $hash = '', $cache_secret_key = '', $cache_secret_iv = ''): mixed
</code></pre>

<p>Retrieves a value from cache.</p>

<strong>Parameters:</strong>
<ul>
<li><code>$key</code> (string): Cache key</li>
<li><code>$expireTime</code> (int): Expiration time in seconds (-1 = never expires)</li>
<li><code>$hash</code> (string): Optional hash to validate cache integrity</li>
<li><code>$cache_secret_key</code> (string): Optional encryption key</li>
<li><code>$cache_secret_iv</code> (string): Optional encryption IV</li>
</ul>

<strong>Returns:</strong> Cached value, or <code>null</code> if not found, expired, or hash mismatch

<strong>Example:</strong>
<pre><code class="language-php">// Simple get
$userData = $this->core->cache->get('user_123');

// Get with expiration (cache for 1 hour)
$userData = $this->core->cache->get('user_123', 3600);

// Get with hash validation
$hash = md5($queryString);
$results = $this->core->cache->get('query_results', 3600, $hash);
if(!$results) {
    // Cache miss or hash changed - regenerate
    $results = $this->runQuery($queryString);
    $this->core->cache->set('query_results', $results, $hash);
}

// Get with encryption
$secretKey = $this->core->config->get('core.gcp.secrets.cache_encrypt_key');
$secretIv = $this->core->config->get('core.gcp.secrets.cache_encrypt_iv');
$sensitiveData = $this->core->cache->get('sensitive_data', -1, '', $secretKey, $secretIv);
</code></pre>

<strong>Special Features:</strong>
<ul>
<li>Automatically deletes expired entries</li>
<li>Validates hash if provided (useful for query caching)</li>
<li>Decrypts data if encryption keys provided</li>
<li>Sets <code>$this->errorSecurity = true</code> if wrong encryption keys used</li>
</ul>

<p>---</p>

<h3>set()</h3>

<pre><code class="language-php">function set($key, $object, $hash = null, $cache_secret_key = '', $cache_secret_iv = ''): bool
</code></pre>

<p>Stores a value in cache.</p>

<strong>Parameters:</strong>
<ul>
<li><code>$key</code> (string): Cache key</li>
<li><code>$object</code> (mixed): Value to cache (any serializable type)</li>
<li><code>$hash</code> (string): Optional hash for integrity validation</li>
<li><code>$cache_secret_key</code> (string): Optional encryption key</li>
<li><code>$cache_secret_iv</code> (string): Optional encryption IV</li>
</ul>

<strong>Returns:</strong> <code>true</code> on success, <code>false</code> on error

<strong>Example:</strong>
<pre><code class="language-php">// Simple set
$this->core->cache->set('user_123', $userData);

// Set with hash
$hash = md5($queryString);
$this->core->cache->set('query_results', $results, $hash);

// Set with encryption
$secretKey = $this->core->config->get('core.gcp.secrets.cache_encrypt_key');
$secretIv = $this->core->config->get('core.gcp.secrets.cache_encrypt_iv');
$this->core->cache->set('sensitive_data', $data, null, $secretKey, $secretIv);

// Cache complex objects
$this->core->cache->set('products_list', [
    'items' => $products,
    'total' => count($products),
    'timestamp' => time()
]);
</code></pre>

<strong>Data Handling:</strong>
<ul>
<li>Automatically serializes and compresses data (gzip)</li>
<li>Encrypts if encryption keys provided</li>
<li>Stores microtime for expiration checks</li>
<li>Stores hash for validation</li>
</ul>

<p>---</p>

<h3>delete()</h3>

<pre><code class="language-php">function delete($key): bool
</code></pre>

<p>Deletes a cached entry.</p>

<strong>Parameters:</strong>
<ul>
<li><code>$key</code> (string): Cache key to delete</li>
</ul>

<strong>Returns:</strong> <code>true</code> on success

<strong>Example:</strong>
<pre><code class="language-php">// Delete specific cache entry
$this->core->cache->delete('user_123');

// Delete after update
$this->updateUser($userId, $data);
$this->core->cache->delete('user_' . $userId);
</code></pre>

<p>---</p>

<h3>keys()</h3>

<pre><code class="language-php">public function keys($search = '*'): array|null
</code></pre>

<p>Returns cache keys matching a pattern (Redis only).</p>

<strong>Parameters:</strong>
<ul>
<li><code>$search</code> (string): Search pattern (default: '*' = all keys)</li>
</ul>

<strong>Returns:</strong> Array of matching keys, or <code>null</code> on error

<strong>Example:</strong>
<pre><code class="language-php">// Get all cache keys
$allKeys = $this->core->cache->keys();

// Search for specific pattern
$userKeys = $this->core->cache->keys('user_*');

// Delete all user caches
$userKeys = $this->core->cache->keys('user_*');
foreach($userKeys as $key) {
    $this->core->cache->delete($key);
}
</code></pre>

<strong>Note:</strong> Only works with Redis (memory) cache type.

<p>---</p>

<h2>Convenience Methods</h2>

<h3>getByHash()</h3>

<pre><code class="language-php">public function getByHash($str, $hash): mixed
</code></pre>

<p>Retrieves cache value validated by hash.</p>

<strong>Parameters:</strong>
<ul>
<li><code>$str</code> (string): Cache key</li>
<li><code>$hash</code> (string): Hash to validate against</li>
</ul>

<strong>Returns:</strong> Cached value if hash matches, <code>null</code> otherwise

<strong>Example:</strong>
<pre><code class="language-php">$hash = md5(json_encode($filters));
$results = $this->core->cache->getByHash('search_results', $hash);
if(!$results) {
    // Cache miss or filters changed
    $results = $this->search($filters);
    $this->core->cache->set('search_results', $results, $hash);
}
</code></pre>

<p>---</p>

<h3>getByExpireTime()</h3>

<pre><code class="language-php">public function getByExpireTime($str, $seconds): mixed
</code></pre>

<p>Retrieves cache value with expiration time.</p>

<strong>Parameters:</strong>
<ul>
<li><code>$str</code> (string): Cache key</li>
<li><code>$seconds</code> (int): Expiration time in seconds</li>
</ul>

<strong>Returns:</strong> Cached value if not expired, <code>null</code> otherwise

<strong>Example:</strong>
<pre><code class="language-php">// Cache for 1 hour (3600 seconds)
$data = $this->core->cache->getByExpireTime('hourly_stats', 3600);
if(!$data) {
    $data = $this->calculateStats();
    $this->core->cache->set('hourly_stats', $data);
}

// Cache for 5 minutes
$data = $this->core->cache->getByExpireTime('live_data', 300);
</code></pre>

<p>---</p>

<h2>Namespace Methods</h2>

<h3>setNameSpace()</h3>

<pre><code class="language-php">function setNameSpace(string $name): void
</code></pre>

<p>Sets the cache namespace (prefix for all keys).</p>

<strong>Parameters:</strong>
<ul>
<li><code>$name</code> (string): Namespace name</li>
</ul>

<strong>Example:</strong>
<pre><code class="language-php">// Use different namespace for different tenants
$tenantId = $this->getCurrentTenantId();
$this->core->cache->setNameSpace('tenant_' . $tenantId);

// Now all cache operations use this namespace
$this->core->cache->set('config', $tenantConfig);
// Stored as: CloudFrameWork_directory_tenant_123-config
</code></pre>

<strong>Note:</strong> <code>setSpaceName()</code> is deprecated, use <code>setNameSpace()</code> instead.

<p>---</p>

<h2>Initialization</h2>

<h3>init()</h3>

<pre><code class="language-php">function init(): bool
</code></pre>

<p>Initializes the cache backend. Called automatically.</p>

<strong>Returns:</strong> <code>true</code> if cache object is ready, <code>false</code> otherwise

<strong>Backends:</strong>
<ul>
<li><strong>memory</strong>: Connects to Redis using <code>REDIS_HOST</code> and <code>REDIS_PORT</code> environment variables</li>
<li><strong>directory</strong>: Creates CoreCacheFile instance for file-based caching</li>
<li><strong>datastore</strong>: Creates CoreCacheDataStore instance for Datastore caching</li>
</ul>

<p>---</p>

<h2>Common Usage Patterns</h2>

<h3>Basic Caching</h3>

<pre><code class="language-php">// Check cache first
$data = $this->core->cache->get('expensive_operation');
if(!$data) {
    // Cache miss - compute data
    $data = $this->performExpensiveOperation();

    // Store in cache
    $this->core->cache->set('expensive_operation', $data);
}

// Use data
return $data;
</code></pre>

<h3>Caching with Expiration</h3>

<pre><code class="language-php">// Cache for 1 hour
$cacheKey = 'dashboard_stats';
$stats = $this->core->cache->get($cacheKey, 3600);

if(!$stats) {
    // Cache expired or doesn't exist
    $stats = $this->calculateDashboardStats();
    $this->core->cache->set($cacheKey, $stats);
}

return $stats;
</code></pre>

<h3>Caching with Hash Validation</h3>

<pre><code class="language-php">// Generate hash from query parameters
$hash = md5(json_encode([
    'filters' => $filters,
    'sort' => $sortBy,
    'page' => $page
]));

// Try to get cached results
$results = $this->core->cache->get('search_results', 3600, $hash);

if(!$results) {
    // Hash changed or cache expired
    $results = $this->search($filters, $sortBy, $page);
    $this->core->cache->set('search_results', $results, $hash);
}

return $results;
</code></pre>

<h3>Encrypted Cache</h3>

<pre><code class="language-php">// Get encryption keys from config
$key = $this->core->config->get('core.gcp.secrets.cache_encrypt_key');
$iv = $this->core->config->get('core.gcp.secrets.cache_encrypt_iv');

// Store sensitive data encrypted
$this->core->cache->set('user_tokens', $tokens, null, $key, $iv);

// Retrieve encrypted data
$tokens = $this->core->cache->get('user_tokens', -1, '', $key, $iv);

// Check for security errors (wrong keys)
if($this->core->cache->errorSecurity) {
    // Wrong encryption keys used
    $this->core->logs->add('Cache security error - wrong keys');
}
</code></pre>

<h3>Multi-tenant Caching</h3>

<pre><code class="language-php">class API extends RESTful
{
    function main()
    {
        // Set namespace per tenant
        $tenantId = $this->getTenantId();
        $this->core->cache->setNameSpace('tenant_' . $tenantId);

        // Now cache is isolated per tenant
        $config = $this->core->cache->get('config');
        if(!$config) {
            $config = $this->loadTenantConfig($tenantId);
            $this->core->cache->set('config', $config);
        }
    }
}
</code></pre>

<h3>Cache Invalidation</h3>

<pre><code class="language-php">// Invalidate specific cache
function updateUser($userId, $data) {
    // Update database
    $this->updateDatabase($userId, $data);

    // Invalidate cache
    $this->core->cache->delete('user_' . $userId);
    $this->core->cache->delete('users_list');
}

// Invalidate pattern (Redis only)
function clearUserCaches() {
    $userKeys = $this->core->cache->keys('user_*');
    foreach($userKeys as $key) {
        $this->core->cache->delete($key);
    }
}
</code></pre>

<h3>Conditional Caching</h3>

<pre><code class="language-php">// Only cache in production
if($this->core->is->production()) {
    $data = $this->core->cache->get('heavy_computation', 3600);
    if(!$data) {
        $data = $this->heavyComputation();
        $this->core->cache->set('heavy_computation', $data);
    }
} else {
    // Always fresh in development
    $data = $this->heavyComputation();
}
</code></pre>

<p>---</p>

<h2>Cache Backends</h2>

<h3>Memory (Redis)</h3>

<strong>Pros:</strong>
<ul>
<li>Very fast (in-memory)</li>
<li>Supports distributed caching</li>
<li>Automatic eviction policies</li>
</ul>

<strong>Cons:</strong>
<ul>
<li>Requires Redis server</li>
<li>Limited by memory</li>
</ul>

<strong>Setup:</strong>
<pre><code class="language-bash"># Set environment variables
export REDIS_HOST=localhost
export REDIS_PORT=6379
</code></pre>

<pre><code class="language-php">$this->core->cache->activateMemory();
</code></pre>

<h3>Directory (File-based)</h3>

<strong>Pros:</strong>
<ul>
<li>No external dependencies</li>
<li>Simple setup</li>
<li>Good for development</li>
</ul>

<strong>Cons:</strong>
<ul>
<li>Slower than memory cache</li>
<li>Not suitable for distributed systems</li>
</ul>

<strong>Setup:</strong>
<pre><code class="language-php">$cachePath = $this->core->system->root_path . '/local_data/cache';
$this->core->cache->activateCacheFile($cachePath);
</code></pre>

<h3>Datastore</h3>

<strong>Pros:</strong>
<ul>
<li>Scalable</li>
<li>Persistent</li>
<li>Good for distributed systems</li>
</ul>

<strong>Cons:</strong>
<ul>
<li>Slower than memory</li>
<li>Costs money (GCP)</li>
<li>Requires Datastore API</li>
</ul>

<strong>Setup:</strong>
<pre><code class="language-php">$this->core->cache->activateDataStore('my_app_cache');
</code></pre>

<p>---</p>

<h2>Performance Considerations</h2>

<h3>Cache Key Design</h3>

<pre><code class="language-php">// Good: Specific keys
$this->core->cache->get('user_123');
$this->core->cache->get('product_456');
$this->core->cache->get('search_electronics_page_2');

// Bad: Generic keys (causes conflicts)
$this->core->cache->get('data');
$this->core->cache->get('results');
</code></pre>

<h3>Expiration Strategy</h3>

<pre><code class="language-php">// Short expiration for frequently changing data
$this->core->cache->get('live_prices', 60); // 1 minute

// Medium expiration for moderate data
$this->core->cache->get('product_catalog', 3600); // 1 hour

// Long expiration for rarely changing data
$this->core->cache->get('country_list', 86400); // 24 hours

// No expiration for static data
$this->core->cache->get('config', -1); // Never expires
</code></pre>

<h3>Cache Size</h3>

<pre><code class="language-php">// Avoid caching huge objects
$hugeData = $this->getAllDataFromDatabase(); // DON'T cache this

// Cache smaller, more specific data
$pageData = $this->getPageData($page); // Good
$this->core->cache->set('page_' . $page, $pageData);
</code></pre>

<p>---</p>

<h2>Debug Mode</h2>

When debug mode is enabled, cache operations are logged:

<pre><code class="language-php">// Enable debug
$this->core->cache->debug = true;

// Operations will be logged
$this->core->cache->set('test', 'value');
// Log: "set($key=test,..) in namespace..."

$value = $this->core->cache->get('test');
// Log: "get($key=test) successful returned in namespace..."

$this->core->cache->delete('test');
// Log: "delete(). token: CloudFrameWork_directory-test"
</code></pre>

<p>---</p>

<h2>Error Handling</h2>

<pre><code class="language-php">// Check for errors
$this->core->cache->set('key', $data);
if($this->core->cache->error) {
    $errors = $this->core->cache->errorMsg;
    // Handle errors
}

// Check for security errors (wrong encryption keys)
$data = $this->core->cache->get('key', -1, '', $wrongKey, $wrongIv);
if($this->core->cache->errorSecurity) {
    // Wrong encryption keys - cache was deleted for security
}
</code></pre>

<p>---</p>

<h2>Configuration</h2>

Set cache configuration in <code>config.json</code>:

<pre><code class="language-json">{
  "core.cache.cache_path": "{{rootPath}}/local_data/cache",
  "core.gcp.secrets.cache_encrypt_key": "your-base64-key",
  "core.gcp.secrets.cache_encrypt_iv": "your-base64-iv",

  "development:": {
    "core.cache.cache_path": "{{rootPath}}/local_data/cache"
  },

  "production:": {
    "core.cache.type": "memory"
  }
}
</code></pre>

<p>Generate encryption keys:</p>
<pre><code class="language-bash"># Generate key (32 bytes)
openssl rand -base64 32

<h1>Generate IV (24 bytes)</h1>
openssl rand -base64 24
</code></pre>

<p>---</p>

<h2>See Also</h2>

<ul>
<li><a href="Core7.html">Core7 Class Reference</a></li>
<li><a href="CoreConfig.html">CoreConfig Class Reference</a></li>
<li><a href="../guides/performance.html">Performance Guide</a></li>
<li><a href="../guides/configuration.html">Configuration Guide</a></li>
</ul>

        </main>
    </div>

    <script src="../js/main.js"></script>
</body>
</html>